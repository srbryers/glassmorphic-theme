{%- comment -%}
  404 Not Found Section

  Displays when a page is not found.
  Features glass card styling and helpful navigation.
{%- endcomment -%}

<section class="section py-16 md:py-24 relative overflow-hidden">
  {%- comment -%} Decorative gradient orbs {%- endcomment -%}
  <div class="absolute top-0 left-1/4 w-96 h-96 bg-[var(--primary)]/5 rounded-full blur-3xl pointer-events-none"></div>
  <div class="absolute bottom-0 right-1/4 w-64 h-64 bg-[var(--accent)]/5 rounded-full blur-3xl pointer-events-none"></div>

  <div class="relative container">
    <div class="max-w-lg mx-auto text-center">
      {%- comment -%} 404 Badge {%- endcomment -%}
      <div class="inline-flex items-center justify-center w-32 h-32 rounded-3xl bg-[var(--muted)] mb-8">
        <span class="text-5xl font-bold text-[var(--muted-foreground)]">404</span>
      </div>

      {%- comment -%} Title & Description {%- endcomment -%}
      <h1 class="text-3xl md:text-4xl font-bold text-[var(--foreground)] mb-4">
        {{ 'general.404.title' | t | default: 'Page not found' }}
      </h1>
      <p class="text-[var(--muted-foreground)] mb-8 leading-relaxed">
        {{ 'general.404.description' | t | default: "Sorry, we couldn't find the page you're looking for. It might have been moved or deleted." }}
      </p>

      {%- comment -%} Actions {%- endcomment -%}
      <div class="flex flex-col sm:flex-row items-center justify-center gap-3">
        <a href="{{ routes.root_url }}" class="btn-primary">
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
          </svg>
          {{ 'general.404.back_home' | t | default: 'Back to home' }}
        </a>
        <a href="{{ routes.all_products_collection_url }}" class="btn-outline">
          {{ 'general.404.browse_products' | t | default: 'Browse products' }}
        </a>
      </div>

      {%- comment -%} Search suggestion {%- endcomment -%}
      <div class="mt-12 pt-8 border-t border-[var(--border)]">
        <p class="text-sm text-[var(--muted-foreground)] mb-4">
          {{ 'general.404.search_hint' | t | default: 'Or try searching for what you need:' }}
        </p>
        <form action="{{ routes.search_url }}" method="get" class="relative max-w-sm mx-auto">
          <input
            type="search"
            name="q"
            class="input pr-12"
            placeholder="{{ 'general.search_placeholder' | t | default: 'Search products...' }}"
            aria-label="{{ 'accessibility.search' | t }}"
          >
          <button
            type="submit"
            class="absolute right-2 top-1/2 -translate-y-1/2 w-9 h-9 flex items-center justify-center rounded-lg bg-[var(--primary)] text-white hover:bg-[var(--primary-hover)] transition-colors"
            aria-label="{{ 'accessibility.search' | t }}"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
          </button>
        </form>
      </div>

      {%- comment -%} Popular links {%- endcomment -%}
      {%- if section.settings.show_popular_links and linklists[section.settings.menu].links.size > 0 -%}
        <div class="mt-10">
          <p class="text-sm text-[var(--muted-foreground)] mb-4">
            {{ 'general.404.popular_links' | t | default: 'Popular pages:' }}
          </p>
          <div class="flex flex-wrap items-center justify-center gap-2">
            {%- for link in linklists[section.settings.menu].links limit: 5 -%}
              <a
                href="{{ link.url }}"
                class="px-4 py-2 text-sm font-medium text-[var(--foreground)] bg-[var(--muted)] rounded-full hover:bg-[var(--primary)] hover:text-white transition-all duration-300"
              >
                {{ link.title }}
              </a>
            {%- endfor -%}
          </div>
        </div>
      {%- endif -%}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "t:sections.404.name",
  "tag": "section",
  "class": "section-main-404",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_popular_links",
      "label": "t:sections.404.settings.show_popular_links.label",
      "default": true
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "t:sections.404.settings.menu.label",
      "default": "main-menu"
    }
  ]
}
{% endschema %}

var d=Object.defineProperty;var r=(n,c,t)=>c in n?d(n,c,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[c]=t;var l=(n,c,t)=>r(n,typeof c!="symbol"?c+"":c,t);class u extends HTMLElement{constructor(){super(...arguments);l(this,"items",null);l(this,"allowMultiple",!1)}connectedCallback(){console.log("[Island] accordion hydrated (client:visible)"),this.items=this.querySelectorAll("[data-accordion-item]"),this.allowMultiple=this.hasAttribute("data-allow-multiple"),this.setupEventListeners(),this.initializeState(),this.setAttribute("data-hydrated","true")}setupEventListeners(){var t;(t=this.items)==null||t.forEach(s=>{const e=s.querySelector("[data-accordion-trigger]");e==null||e.addEventListener("click",()=>this.toggle(s)),e==null||e.addEventListener("keydown",a=>{const o=a;(o.key==="Enter"||o.key===" ")&&(a.preventDefault(),this.toggle(s))})})}initializeState(){var t;(t=this.items)==null||t.forEach(s=>{const e=s.hasAttribute("data-open"),a=s.querySelector("[data-accordion-content]"),o=s.querySelector("[data-accordion-trigger]"),i=o==null?void 0:o.querySelector("[data-accordion-icon]");a&&(e?(a.style.maxHeight=`${a.scrollHeight}px`,a.classList.remove("opacity-0"),s.classList.add("accordion-open"),i==null||i.classList.add("rotate-180")):(a.style.maxHeight="0px",a.classList.add("opacity-0"),i==null||i.classList.remove("rotate-180"))),o==null||o.setAttribute("aria-expanded",e?"true":"false")})}toggle(t){var e;t.hasAttribute("data-open")?this.close(t):(this.allowMultiple||(e=this.items)==null||e.forEach(a=>{a!==t&&a.hasAttribute("data-open")&&this.close(a)}),this.open(t))}open(t){const s=t.querySelector("[data-accordion-content]"),e=t.querySelector("[data-accordion-trigger]"),a=e==null?void 0:e.querySelector("[data-accordion-icon]");s&&(t.setAttribute("data-open",""),t.classList.add("accordion-open"),e==null||e.setAttribute("aria-expanded","true"),a==null||a.classList.add("rotate-180"),s.style.maxHeight=`${s.scrollHeight}px`,s.classList.remove("opacity-0"),this.dispatchEvent(new CustomEvent("accordion:open",{bubbles:!0,detail:{item:t}})))}close(t){const s=t.querySelector("[data-accordion-content]"),e=t.querySelector("[data-accordion-trigger]"),a=e==null?void 0:e.querySelector("[data-accordion-icon]");s&&(t.removeAttribute("data-open"),t.classList.remove("accordion-open"),e==null||e.setAttribute("aria-expanded","false"),a==null||a.classList.remove("rotate-180"),s.style.maxHeight="0px",s.classList.add("opacity-0"),this.dispatchEvent(new CustomEvent("accordion:close",{bubbles:!0,detail:{item:t}})))}}customElements.define("accordion-island",u);
